<div id="edit_fields" class="modal fade" role="dialog">
  <form method="post" action="" role="form" enctype="multipart/form-data">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close btn btn-danger" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Configure Fields</h4>
        </div>
      <div class="modal-body">
        <div class="form-group">
          {{ fields_form.csrf_token }}
        </div>
        {% for f in fields_form.merge_fields %}
          <div class ="form-group form-inline">
            {% set mf = fields[loop.index0] %}
            <input type="text" class="form-control" value="{{ mf.label }}" disabled>
            {{ f.field_id(value=mf.id, hidden=True) }}
            {{ f.index.label }}
            {{ f.index(value=mf.index) }}
            {% for error in f.index.errors %}
            <span class="help-block">{{ error }}</span>
            {% endfor %}
            {{ f.target_class.label }}
            {{ f.target_class(class='select-cls') }}
            {% for error in f.target_class.errors %}
            <span class="help-block">{{ error }}</span>
            {% endfor %}
            {{ f.target_attr.label }}
            {{ f.target_attr(class='select-attr') }}
            {% for error in f.target_attr.errors %}
            <span class="help-block">{{ error }}</span>
            {% endfor %}
          </div>
        {% endfor %}
      </div>
      <div class="modal-footer">
        <div class="form-group">
          {{ fields_form.submit.label(class="sr-only") }}
          {{ fields_form.submit(class="form-control btn-success") }}
        </div>
      </div>
    </div>
  </form>
</div>
