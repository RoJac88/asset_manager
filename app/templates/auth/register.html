{% extends "base.html" %}

{% block scripts %}
	{{ super() }}
	<script>
	$(document).ready(function() {
    $('#myCarousel').bind('slid.bs.carousel', function () {
      var avatar = $(".item.active").attr('id');
      $('#avatar').val(avatar)
    });
  });
	</script>
{% endblock %}

{% block app_content %}
<div class="row">
  <div class="col-xs-4">
  </div>
  <div class="col-xs-4">
    <div class="well">
      <div id="myCarousel" class="carousel slide" data-ride="carousel" data-interval="false">
        {% set active = 0 %} <!-- Default active avatar -->

        <!-- Wrapper for slides -->
        <div class="carousel-inner">
          {% for avatar in avatars %}
          {% include 'auth/_avatar_item.html'%}
          {% endfor %}
        </div>
        <!-- Left and right controls -->
        <a class="left carousel-control" href="#myCarousel" data-slide="prev">
          <span class="glyphicon glyphicon-chevron-left"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#myCarousel" data-slide="next">
          <span class="glyphicon glyphicon-chevron-right"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
      <br>
      <form method="post" action="" role="form" enctype="multipart/form-data">
        <div class="hidden">
          {{ form.csrf_token }}
          {{ form.avatar.label(class="control-label") }}
          {{ form.avatar(class="form-control", id="avatar") }}
        </div>
        <div class="form-group">
          {{ form.username.label(class="control-label") }}
          {{ form.username(class="form-control") }}
          {% for error in form.username.errors %}
          <span class="help-block">{{ error }}</span>
          {% endfor %}
        </div>
        <div class="form-group">
          {{ form.email.label(class="control-label") }}
          {{ form.email(class="form-control") }}
          {% for error in form.email.errors %}
          <span class="help-block">{{ error }}</span>
          {% endfor %}
        </div>
        <div class="form-group">
          {{ form.password.label(class="control-label") }}
          {{ form.password(class="form-control") }}
          {% for error in form.password.errors %}
          <span class="help-block">{{ error }}</span>
          {% endfor %}
          {{ form.password2.label(class="control-label") }}
          {{ form.password2(class="form-control") }}
          {% for error in form.password2.errors %}
          <span class="help-block">{{ error }}</span>
          {% endfor %}
        </div>
        <div class="form-group">
          {{ form.submit.label(class="sr-only") }}
          {{ form.submit(class="form-control btn-success") }}
        </div>
      </form>
    </div>
  </div>
  <div class="col-xs-4">
  </div>
</div>
{% endblock %}
